(()=>{"use strict";document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector("input[name='input']").value;city=t,console.log((city,"http://api.weatherapi.com/v1/forecast.json?key=6fe5d9b89c10408d90d143901232806&q=Hartford&days=3&aqi=yes&alerts=yes"))}));const e=function(){return"http://api.weatherapi.com/v1/forecast.json?key=6fe5d9b89c10408d90d143901232806&q=Hartford&days=3&aqi=yes&alerts=yes"},t=document.querySelector(".weatherUpdateTime"),n=document.querySelector(".weatherDescription"),r=document.querySelector(".weatherState"),o=document.querySelector(".weatherCity"),a=document.querySelector(".weatherLatitude"),i=document.querySelector(".weatherLongitude"),c=document.querySelector(".weatherUnitF"),s=document.querySelector(".weatherUnitC"),u=document.querySelector(".weatherFeelsLikeF"),d=document.querySelector(".weatherFeelsLikeC"),l=document.querySelector("#weatherHumidity"),y=document.querySelector(".weatherWindDir"),h=document.querySelector(".weatherWindGust"),m=document.querySelector(".isDay"),p=["day.png","night.png"];(()=>{const e=Number(m.innerHTML),t=p[e];document.querySelector(".isDay").src=`./assets/${t}`})();const w=e();console.log("Current Weather Loaded");const f=e(),L=document.querySelector(".weatherForecast"),S=new Date;!async function(){const e=await fetch(w);if(200===e.status){const p=await e.json();!function(e){t.innerHTML=e.current.last_updated,n.innerHTML=e.current.condition.text,r.innerHTML=e.location.region,o.innerHTML=e.location.name,a.innerHTML=`Lat: ${e.location.lat}`,i.innerHTML=`Lon: ${e.location.lon}`,c.innerHTML=`${e.current.temp_f}°F`,s.innerHTML=`${e.current.temp_c}°C`,u.innerHTML=`Feels Like: ${e.current.feelslike_f}°F`,d.innerHTML=`Feels Like: ${e.current.feelslike_c}°C`,l.innerHTML=`Humidity: ${e.current.humidity}`,y.innerHTML=`Wind Direction: ${e.current.wind_dir}`,h.innerHTML=`${e.current.gust_mph} Mph / ${e.current.gust_kph} Kph`,m.innerHTML=e.current.is_day;const p=document.querySelector(".weatherAlert");document.querySelector(".alertDiv");for(const t of e.alerts.alert)p.innerHTML+=`\n      <button id="warningBtn" onclick="handleClick()">Alert</button>\n      <div class="alertDiv hidden">\n        <h1>${t.msgtype}</h1>\n        <h3>${t.headline}</h3>\n        <p>Severity: ${t.severity}</p>\n        <p>Urgency: ${t.urgency}</p>\n        <p>Areas: ${t.areas}</p>\n        <p>Expires: ${t.expires}</p>\n      </div>\n      `}(p),console.log(p)}else console.log("Something went wrong.")}(),async function(){const e=await fetch(f);if(200===e.status){const t=(await e.json()).forecast.forecastday;for(let e=0;e<3;e++){const n=new Date(t[e].date);if(n>S&&n<=(new Date).setDate(S.getDate()+3)){const r=n.getDay(),o=n.getDate(),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r];L.innerHTML+=`\n            <div class="forecastDiv">\n              <h2>\n              ${a} ${o}</h2>\n              <ul>\n              <li>\n              High: <span class="highSpan">${t[e].day.maxtemp_f}°F</span> \n              Low: <span class="lowSpan">${t[e].day.mintemp_f}°F</span>\n              </li>\n                <li id="forecastConditions">${t[e].day.condition.text}</li>\n              </ul>\n            </div>`}}}else console.log("Something went wrong.")}()})();