(()=>{const e=document.querySelector("form"),t=document.querySelector("location"),n="Hartford";e.addEventListener("submit",(e=>{e.preventDefault(),""!==t?n=t:alert("Please enter a city name.")}));const r=`http://api.weatherapi.com/v1/forecast.json?key=6fe5d9b89c10408d90d143901232806&q=${n}&days=3&aqi=yes&alerts=yes`,o=document.querySelector(".weatherUpdateTime"),a=document.querySelector(".weatherDescription"),c=document.querySelector(".weatherState"),i=document.querySelector(".weatherCity"),u=document.querySelector(".weatherLatitude"),s=document.querySelector(".weatherLongitude"),l=document.querySelector(".weatherUnitF"),d=document.querySelector(".weatherUnitC"),y=document.querySelector(".weatherFeelsLikeF"),m=document.querySelector(".weatherFeelsLikeC"),h=document.querySelector("#weatherHumidity"),w=document.querySelector(".weatherWindDir"),L=document.querySelector(".weatherWindGust"),S=(document.querySelector(".weatherAlert"),document.querySelector(".alertDiv"),document.querySelector(".isDay")),f=["day.png","night.png"];(()=>{const e=Number(S.innerHTML),t=f[e];document.querySelector(".isDay").src=`./assets/${t}`})();const p=document.querySelector(".weatherForecast"),q=new Date;console.log(r),async function(){const e=await fetch(r);if(200===e.status){const n=await e.json();t=n,o.innerHTML=t.current.last_updated,a.innerHTML=t.current.condition.text,c.innerHTML=t.location.region,i.innerHTML=t.location.name,u.innerHTML=`Lat: ${t.location.lat}`,s.innerHTML=`Lon: ${t.location.lon}`,l.innerHTML=`${t.current.temp_f}°F`,d.innerHTML=`${t.current.temp_c}°C`,y.innerHTML=`Feels Like: ${t.current.feelslike_f}°F`,m.innerHTML=`Feels Like: ${t.current.feelslike_c}°C`,h.innerHTML=`Humidity: ${t.current.humidity}`,w.innerHTML=`Wind Direction: ${t.current.wind_dir}`,L.innerHTML=`${t.current.gust_mph} Mph / ${t.current.gust_kph} Kph`,S.innerHTML=t.current.is_day,console.log(n)}else console.log("Something went wrong in CurrentLOGIC.");var t}(),async function(){const e=await fetch(r);if(200===e.status){const t=await e.json(),n=t.forecast.forecastday,r=t.location.name;for(let e=0;e<3;e++){const t=new Date(n[e].date);if(t>q&&t<=(new Date).setDate(q.getDate()+3)){const o=t.getDay(),a=t.getDate(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o];p.innerHTML+=`\n              <div class="forecastDiv">\n                <h2>\n                ${c} ${a}</h2>\n                <ul>\n                <li> \n                <li>In ${r}</li>\n                High: <span class="highSpan">${n[e].day.maxtemp_f}°F</span> \n                Low: <span class="lowSpan">${n[e].day.mintemp_f}°F</span>\n                </li>\n                  <li id="forecastConditions">${n[e].day.condition.text}</li>\n                </ul>\n              </div>`}}}else console.log("Something went wrong.")}()})();